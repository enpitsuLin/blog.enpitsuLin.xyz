---
title: 博客使用 Gatsby 构建
date: 2021-09-15 16:09:00
draft: false
tags: ['react', 'gatsby', 'blog']
layout: PostSimple
summary: 本身使用静态博客写作挺简单的，但是工作后总有经验增长而且突然新的想法就把博客程序从 Hexo 花了点时间换成 Gatsby 从0构建了新的博客网站。
---

> 又左右横跳到使用 nextjs 构建了，果然我还是喜欢小而美 ——2022-3-29

因为 `Hexo` 对作为静态博客工具对于没有使用过传统模板语法的人来说实际上功能性有限，而且在日常工作开发中使用`Vue`，本来首选应该是转移下到`Vuepress`的。

但是经过一番浏览后发现这个`Vuepress`的文档实在是可圈可点，同时我又发现了`gatsbyjs`，而且因为上手了`React`的原因，正好可以通过搭建博客项目锻炼下。

~~以后可能以 Vue 技术栈的身份跳个 React 技术栈的公司好了 XD~~

`gatsby`是基于`React`、`GraphQL`的静态网站生成器，功能十分强大，而且基于`React`并且可以用上整个前端生态。

其实作为静态建站方案，`gatsby`是很成熟的，当前版本已经到 v3 版本，在国外还是很受欢迎的，而且文档很齐全，社区维护的插件和主题也不少，但是网上的教程质量不是很高所以可能需要从零自己研究

~~虽然原先 hexo 的主题 `maupassant`挺合我口味的，但在一番思考较量后，最后还是决定重新构建一套样式，此间发现一位<a href="https://ddadaal.me/" target="_blank">大佬的博客</a>基于 bootstrap 的主题不仅较好复刻和扩展也挺对口味，选择先从别人的主题样式复制一份。~~ 后来又换了，但是部分布局还是按照该样式实现了。

# Hello Gatsby :)

最终搞定的博客就是现在这样，具有明亮和黑暗两种主题风格，文章有目录导航，文章列表简洁的卡片形式...等等

开发整体大概耗费时间 2 周 多 大约 60+小时，Gatsby 从零搭建起到可以投入使用算是挺快的，不过在主题这方面纠结了很长一段时间，从原先 hexo 有的主题再到 Bootstrap 风格到最后使用 Chakra UI 构建双配色的主题整体花了大约一周多的时间，所以说设计还是很重要的

同时这个过程中也提升了自己使用 ts 和 react 的技巧。因为全程使用 React hooks 加深了对这类 api 的使用理解，这部分可以很容易的运用到 Vue3 的 composition-api 中

过程中发现了[Next](https://github.com/next-theme)这个主题发现其字体效果很抓眼球正好 Chakra UI 的中文显示效果比较差，就全局使用这个项目的字体配置来显示了。

# 上线

开发好之后，还是使用托管至 github page 的方式进行上线。

用别人已经发布的`enriikke/gatsby-gh-pages-action@v2.2.0` github Actions ,在需要打包发布的时候手动触发`workflow_dispatch`打包并推送到仓库的 gh-pages 分支然后等 github page 构建完成就可以看到了

# 未来可能要做的事

整体结构和基础功能算是已经完成了，接着就是完善和使用这个来写文章了。

不过有几点最重要的是归档和关于页面的设计和开发，以及文章列表的右侧部分，该部分预计会有有关键词搜索，按标签和分类检索的卡片功能。

同时还有一部分页面的样式需要调整的，比如首页其实非常的空旷，以及以后应该要加上可能会用上的评论系统。

~~看起来任务还挺多的嘛，先用着好了~~
