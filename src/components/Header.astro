---
import { getCollection } from 'astro:content';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
import ThemeSwitch from './ThemeSwitch.astro';

const friends = (await getCollection('friends')).filter(
  (i) => i.id !== 'example'
);
---

<header
  class="transition-all border-b border-b-neutral-200 dark:border-neutral-700"
>
  <div class="max-w-4xl mx-auto px-4 py-4 flex items-center">
    <a href="/" class="font-bold text-opacity-82 text-black dark:text-white">
      <span title={SITE_DESCRIPTION}>{SITE_TITLE}</span>
    </a>

    <span class="ml-auto" role="separator"></span>
    <nav class="mr-4">
      <a
        href="/blog"
        title="blog"
        class="rounded text-sm px-2 py-1 hover:bg-neutral-200 dark:hover:bg-neutral-700"
        >文章</a
      >
      <a
        href="/archives"
        title="archives"
        class="rounded text-sm px-2 py-1 hover:bg-neutral-200 dark:hover:bg-neutral-700"
        >归档</a
      >
      <a
        href="/tags"
        title="tags"
        class="rounded text-sm px-2 py-1 hover:bg-neutral-200 dark:hover:bg-neutral-700"
        >标签</a
      >
      {
        friends.length > 0 && (
          <a
            href="/friends"
            title="friends"
            class="rounded text-sm px-2 py-1 hover:bg-neutral-200 dark:hover:bg-neutral-700"
          >
            友链
          </a>
        )
      }
    </nav>
    <div class="space-x-4 flex items-center">
      <a
        aria-label="Rss"
        href="/rss.xml"
        rel="noopener noreferrer"
        target="_blank"
        class="hover:text-amber-600"
      >
        <div class="i-ri:rss-fill w-5 h-5"></div>
      </a>
      <ThemeSwitch />
    </div>
  </div>
</header>
